<view class="container">
  <!-- å¤´éƒ¨ç”¨æˆ·ä¿¡æ¯ -->
  <view class="header">
    <view class="avatar-box">
      <!-- ç®€å•çš„å ä½å¤´åƒ -->
      <view class="avatar-placeholder">ğŸ‘¤</view>
    </view>
    <view class="user-info" wx:if="{{userInfo}}">
      <view class="nickname">{{userInfo.nickname}}</view>
      <view class="vip-tag" wx:if="{{userInfo.isVip===1}}">ğŸ‘‘ å¤§ç¥å¡ä¼šå‘˜</view>
      <view class="vip-tag normal" wx:else>æ™®é€šç”¨æˆ·</view>
      <view class="vip-expire" wx:if="{{userInfo.vipExpireTime}}">
        æœ‰æ•ˆæœŸè‡³ï¼š{{vipExpireText || userInfo.vipExpireTime}}
      </view>
    </view>
    <view class="user-info" wx:else bindtap="login">
      <view class="nickname">ç‚¹å‡»ç™»å½•</view>
      <view class="desc">ç™»å½•äº«å—æ›´å¤šä¼˜æƒ </view>
    </view>
  </view>

  <view class="quick-actions" wx:if="{{userInfo}}">
    <view class="quick-item" bindtap="goToVip">å¤§ç¥å¡</view>
    <view class="quick-item" bindtap="goToAddress">åœ°å€ç®¡ç†</view>
  </view>

  <!-- é€‰é¡¹å¡ -->
  <view class="tabs">
    <view class="tab {{activeTab===0?'active':''}}" bindtap="switchTab" data-idx="0">å†å²è®¢å•</view>
    <view class="tab {{activeTab===1?'active':''}}" bindtap="switchTab" data-idx="1">æˆ‘çš„å¡åŒ…</view>
  </view>

  <!-- å†…å®¹åŒºåŸŸ -->
  <scroll-view scroll-y class="content-area">
    
    <!-- è®¢å•åˆ—è¡¨ -->
    <block wx:if="{{activeTab===0}}">
      <view class="empty-tip" wx:if="{{orders.length===0}}">æš‚æ— è®¢å•</view>
      <block wx:for="{{orders}}" wx:key="id">
        <view class="order-card">
          <view class="order-header">
            <text class="time">{{item.orderTime}}</text>
            <text class="status">{{item.status===1?'å·²æ”¯ä»˜':'å¾…æ”¯ä»˜'}}</text>
          </view>
          <view class="order-body">
            <text>è®¢å•å·: {{item.number}}</text>
            <text class="amount">Â¥{{item.amount}}</text>
          </view>
        </view>
      </block>
    </block>

    <!-- å¡åŒ…åˆ—è¡¨ -->
    <block wx:if="{{activeTab===1}}">
      <view class="empty-tip" wx:if="{{vouchers.length===0}}">æš‚æ— ä¼˜æƒ åˆ¸</view>
      <block wx:for="{{vouchers}}" wx:key="id">
        <view class="voucher-card">
          <view class="v-left">
            <text class="v-price">Â¥<text class="big">{{item.value}}</text></text>
          </view>
          <view class="v-right">
            <text class="v-title">{{item.title}}</text>
            <text class="v-desc">å…¨åœºé€šç”¨</text>
          </view>
        </view>
      </block>
    </block>

  </scroll-view>

  <!-- é€€å‡ºç™»å½• -->
  <view class="logout-btn" wx:if="{{userInfo}}" bindtap="logout">é€€å‡ºç™»å½•</view>
</view>
